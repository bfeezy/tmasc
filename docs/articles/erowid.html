<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Erowid Reports &bull; tmasc</title><!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous"><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">tmasc</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/mvuorre/tmasc">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Erowid Reports</h1>
                        <h4 class="author">Matti Vuorre</h4>
            
            <h4 class="date">2016-11-10</h4>
          </div>

    
    
<div class="contents">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(stringr)
<span class="kw">library</span>(knitr)
<span class="kw">library</span>(tmasc)
<span class="kw">theme_set</span>(theme_tmasc)</code></pre></div>
<div id="about-the-experience-vaults" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#about-the-experience-vaults" class="anchor"> </a></body></html>About the Experience Vaults</h2>
<blockquote>
<p>&ldquo;The Erowid Experience Vaults are an attempt to catalog the wide variety of experiences people have with psychoactive plants and chemicals as well as experiences with endogenous (non-drug) mystical experiences, drug testing, police interactions, deep experiences of connection to music, etc.&rdquo; (<a href="https://www.erowid.org/experiences/exp_about.cgi">Erowid Experience Vault</a>)</p>
</blockquote>
</div>
<div id="tmascerowid_reports" class="section level1">
<h1 class="hasAnchor"><html><body><a href="#tmascerowid_reports" class="anchor"> </a></body></html>tmasc::erowid_reports</h1>
<p>The <code>erowid_reports</code> data set in <strong>tmasc</strong> contains written reports of some 24 thousand of these experiences, in a tidy <code>data_frame</code> ready for text mining, visual, and statistical analyses in R (or other software.)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">erowid_reports</code></pre></div>
<pre><code>## # A tibble: 24,788 &times; 16
##       id                                        title        author
##    &lt;int&gt;                                        &lt;chr&gt;         &lt;chr&gt;
## 1      1                       An Unforgettable Ride!  Johnny Blaze
## 2      2            A Trip to Remember....If I Could!         SpEcK
## 3      3                                  Lost for 20        e4me&amp;u
## 4      4                          Spectrum of Effects      Elfstone
## 5      5                                   2CT Heaven           God
## 6      6                       Blooming on Fry Street Great Ludwigo
## 7      7 Ego Death, Infinite Deja-Vu, Scared Shitless         Stash
## 8      8               Mother Nature and the Mountain    e is4 Pete
## 9      9    The night of my life, how i remembered it       Stephen
## 10    10                                   Ode to Joy           Bry
## # ... with 24,778 more rows, and 13 more variables: gender &lt;chr&gt;,
## #   age &lt;chr&gt;, kg &lt;dbl&gt;, year &lt;int&gt;, published &lt;date&gt;, rating &lt;chr&gt;,
## #   url &lt;chr&gt;, citation &lt;chr&gt;, views &lt;int&gt;, substance &lt;chr&gt;, text &lt;chr&gt;,
## #   erowid_warning &lt;lgl&gt;, dosechart &lt;list&gt;</code></pre>
<p>One of the columns in the data frame is actually a list of data frames containing more detailed information about the substance(s) in each report, and can be used for more complex analyses. For the example here, we will drop this column for clarity.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">reports &lt;-<span class="st"> </span><span class="kw">select</span>(erowid_reports, -dosechart)</code></pre></div>
<p>Unfortunately 70 reports failed to scrape but hopefully these will be included later.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">reports &lt;-<span class="st"> </span><span class="kw">filter</span>(reports, !<span class="kw">is.na</span>(text))</code></pre></div>
</div>
<div id="overview-of-the-data" class="section level1 tabset">
<h1 class="hasAnchor"><html><body><a href="#overview-of-the-data" class="anchor"> </a></body></html>Overview of the data</h1>
<div id="year" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#year" class="anchor"> </a></body></html>Year</h2>
<p>Many, but not all, of the reports contain a timestamp of the year of the experience. Here are reports from between 1980 and 2016</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">reports %&gt;%
<span class="st">    </span><span class="kw">filter</span>(year %in%<span class="st"> </span><span class="dv">1980</span>:<span class="dv">2016</span>) %&gt;%
<span class="st">    </span><span class="kw">group_by</span>(year) %&gt;%
<span class="st">    </span><span class="kw">count</span>() %&gt;%
<span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>year, <span class="dt">y=</span>n)) +
<span class="st">    </span><span class="kw">geom_point</span>() +
<span class="st">    </span><span class="kw">geom_line</span>(<span class="dt">group =</span> <span class="dv">1</span>) +
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Number of Erowid reports per year"</span>,
         <span class="dt">subtitle =</span> <span class="kw">paste0</span>(<span class="st">"Number of reports with unknown year (or outside the range): "</span>, <span class="kw">nrow</span>(<span class="kw">filter</span>(reports, !(year %in%<span class="st"> </span><span class="dv">1980</span>:<span class="dv">2016</span>)))),
         <span class="dt">y =</span> <span class="st">""</span>)</code></pre></div>
<p><img src="erowid_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
</div>
<div id="gender" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#gender" class="anchor"> </a></body></html>Gender</h2>
<p>The majority of reports are from men.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">reports %&gt;%
<span class="st">    </span><span class="kw">group_by</span>(gender) %&gt;%
<span class="st">    </span><span class="kw">count</span>() %&gt;%
<span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>gender, <span class="dt">y=</span>n)) +
<span class="st">    </span><span class="kw">geom_bar</span>(<span class="dt">stat=</span><span class="st">"identity"</span>)</code></pre></div>
<p><img src="erowid_files/figure-html/unnamed-chunk-6-1.png" width="672"></p>
</div>
<div id="age" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#age" class="anchor"> </a></body></html>Age</h2>
<p>Reporters&rsquo; age distribution</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">reports %&gt;%
<span class="st">    </span><span class="kw">group_by</span>(age) %&gt;%
<span class="st">    </span><span class="kw">filter</span>(age !=<span class="st"> "Not Given"</span>) %&gt;%
<span class="st">    </span><span class="kw">ungroup</span>() %&gt;%
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">age =</span> <span class="kw">as.integer</span>(age)) %&gt;%
<span class="st">    </span><span class="kw">filter</span>(<span class="kw">between</span>(age, <span class="dv">11</span>, <span class="dv">101</span>)) %&gt;%
<span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>age)) +
<span class="st">    </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="dv">2</span>, <span class="dt">col=</span><span class="st">"white"</span>, <span class="dt">size =</span> .<span class="dv">4</span>) +
<span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">expand =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>))</code></pre></div>
<p><img src="erowid_files/figure-html/unnamed-chunk-7-1.png" width="672"></p>
</div>
<div id="substances" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#substances" class="anchor"> </a></body></html>Substances</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">reports %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">filter</span>(!<span class="kw">str_detect</span>(substance, <span class="st">"&amp;"</span>)) %&gt;%
<span class="st">    </span><span class="kw">group_by</span>(substance) %&gt;%
<span class="st">    </span><span class="kw">count</span>() %&gt;%
<span class="st">    </span><span class="kw">filter</span>(n &gt;<span class="st"> </span><span class="dv">10</span>) %&gt;%
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Prevalence =</span> Hmisc::<span class="kw">cut2</span>(n, <span class="dt">g=</span><span class="dv">4</span>)) %&gt;%
<span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(substance, n), <span class="dt">y =</span> n)) +
<span class="st">    </span><span class="kw">geom_point</span>() +
<span class="st">    </span><span class="kw">coord_flip</span>() +
<span class="st">    </span><span class="kw">facet_wrap</span>(<span class="st">"Prevalence"</span>, <span class="dt">scales =</span> <span class="st">"free"</span>, <span class="dt">ncol=</span><span class="dv">1</span>) +
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Counts of substances"</span>, <span class="dt">x =</span> <span class="st">""</span>, <span class="dt">y =</span> <span class="st">""</span>,
         <span class="dt">subtitle =</span> <span class="st">"Substances with fewer than 11 reports excluded"</span>)</code></pre></div>
<p><img src="erowid_files/figure-html/unnamed-chunk-8-1.png" width="672"></p>
</div>
<div id="substance-combinations" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#substance-combinations" class="anchor"> </a></body></html>Substance combinations</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">reports %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(substance, <span class="st">"&amp;"</span>)) %&gt;%
<span class="st">    </span><span class="kw">group_by</span>(substance) %&gt;%
<span class="st">    </span><span class="kw">count</span>() %&gt;%
<span class="st">    </span><span class="kw">filter</span>(n &gt;<span class="st"> </span><span class="dv">10</span>) %&gt;%
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">Prevalence =</span> Hmisc::<span class="kw">cut2</span>(n, <span class="dt">g=</span><span class="dv">2</span>)) %&gt;%
<span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(substance, n), <span class="dt">y =</span> n)) +
<span class="st">    </span><span class="kw">geom_point</span>() +
<span class="st">    </span><span class="kw">coord_flip</span>() +
<span class="st">    </span><span class="kw">facet_wrap</span>(<span class="st">"Prevalence"</span>, <span class="dt">scales =</span> <span class="st">"free"</span>, <span class="dt">ncol=</span><span class="dv">1</span>) +
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Counts of substance combinations"</span>, <span class="dt">x =</span> <span class="st">""</span>, <span class="dt">y =</span> <span class="st">""</span>,
         <span class="dt">subtitle =</span> <span class="st">"Substances with fewer than 11 reports excluded"</span>)</code></pre></div>
<p><img src="erowid_files/figure-html/unnamed-chunk-9-1.png" width="672"></p>
</div>
<div id="specific-combinations" class="section level2">
<h2 class="hasAnchor"><html><body><a href="#specific-combinations" class="anchor"> </a></body></html>Specific combinations</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">reports %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(substance, <span class="st">"&amp;"</span>)) %&gt;%
<span class="st">    </span><span class="kw">group_by</span>(substance) %&gt;%
<span class="st">    </span><span class="kw">count</span>() %&gt;%
<span class="st">    </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(substance, <span class="st">"Mushrooms"</span>), 
           !<span class="kw">str_detect</span>(substance, <span class="st">"Cannabis"</span>),
           n &gt;<span class="st"> </span><span class="dv">1</span>) %&gt;%
<span class="st">    </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span><span class="kw">reorder</span>(substance, n), <span class="dt">y =</span> n)) +
<span class="st">    </span><span class="kw">geom_point</span>() +
<span class="st">    </span><span class="kw">coord_flip</span>() +
<span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">"Counts of substance combinations"</span>, <span class="dt">x =</span> <span class="st">""</span>, <span class="dt">y =</span> <span class="st">""</span>,
         <span class="dt">subtitle =</span> <span class="st">"Substances with fewer than 11 reports excluded"</span>)</code></pre></div>
<p><img src="erowid_files/figure-html/unnamed-chunk-10-1.png" width="672"></p>
<p>Sample report</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">9</span>)
reports %&gt;%
<span class="st">    </span><span class="kw">filter</span>(rating ==<span class="st"> "Very Highly Recommended"</span>, substance ==<span class="st"> "DMT"</span>) %&gt;%
<span class="st">    </span><span class="kw">sample_n</span>(<span class="dv">1</span>) %&gt;%
<span class="st">    </span><span class="kw">select</span>(text) %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">as.character</span>() %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">gsub</span>(<span class="st">".*sense of strength going in.|The question of intentionality.*"</span>, 
         <span class="st">""</span>, .) %&gt;%<span class="st"> </span>
<span class="st">    </span><span class="kw">cat</span>()</code></pre></div>
<pre><code>

The heat melted the light yellow tinted crystals into a colourless pool which gathered in the bottom of the bulb. I watched white vapour uncoiling around the glass as the bulb became opaque. I drew slowly one long potent lungful and as I did so the vapour billowed more furiously. My tongue and lips numbed and my respiratory plumbing stung a little as I filled up. Eyes opened I placed the still billowing bulb down on a cold hob and turned the heat off. As I did this the room tinted yellow sepia, and I shut my eyes looking for a slide show. I was immediately disappointed. Just the womblike state with some extra patterning, but then the warm crescendo of buzzing both audible and physical spread through my neck and shoulders, followed by a very slight crack or snap from somewhere in my auditory canal. 

For a short while I was not strictly local. I dont remember events as such, just a sensation of being somewhere in between my kitchen and the dreamworld. Then this absence of self was burst by a small patch of vivid vision. Like the view through a tiny hole in the wall of a darkened room out on to the scene on a bright summer day. I thought I saw a snippet of rows of parked cars, like the US guzzlers of the 50s with their chromed wings, or maybe it was an orderly residential scene. I gasped involuntarily, startled by the many implications of this vision. The stylistic appearance of the scenes were partly culturally familiar, and at the same time slightly skewed. I was startled out of phase with the vision, but I was exhilarated and back in the afterglow where I began giving praise to the universe for what I could only formulate as the privelege of what I had seen. </code></pre>
</div>
</div>
<div id="further-reading" class="section level1">
<h1 class="hasAnchor"><html><body><a href="#further-reading" class="anchor"> </a></body></html>Further Reading</h1>
<p><a href="http://chemicalyouth.org/visualising-erowid/" class="uri">http://chemicalyouth.org/visualising-erowid/</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2>Contents</h2>
      <ul class="nav nav-pills nav-stacked"><li><a href="#about-the-experience-vaults">About the Experience Vaults</a></li>
      <li><a href="#tmascerowid_reports">tmasc::erowid_reports</a></li>
      <li><a href="#overview-of-the-data">Overview of the data</a><ul class="nav nav-pills nav-stacked"><li><a href="#year">Year</a></li>
      <li><a href="#gender">Gender</a></li>
      <li><a href="#age">Age</a></li>
      <li><a href="#substances">Substances</a></li>
      <li><a href="#substance-combinations">Substance combinations</a></li>
      <li><a href="#specific-combinations">Specific combinations</a></li>
      </ul></li>
      <li><a href="#further-reading">Further Reading</a></li>
      </ul></div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Matti Vuorre.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer></div>

  </body></html>
